# 智能协作型 Agent 系统

本项目基于 LangChain 框架构建，由两位同学协作完成。目标是在服务器上部署一个智能 Agent，能够通过多轮对话协助用户完成任务，支持理解用户意图、引用知识库、调用外部 API 及本地函数，并通过记忆模块保持上下文连续性。

## 1. Agent 功能说明

本 Agent 旨在提供智能对话服务，协助用户完成信息查询与任务处理。具体功能包括：

- 理解用户自然语言输入，精准识别意图  
- 基于 DeepSeek API 的知识库检索，提供权威答案  
- 调用公开天气查询 API，获取实时数据  
- 执行自定义本地函数（如数据排序）  
- 利用记忆模块保存对话上下文，实现多轮连续交互

## 2. 系统实现细节

### 技术栈简介

- LangChain：核心 Agent 框架  
- Python 3.8+  
- DeepSeek API 知识库检索  
- WeatherAPI 天气查询  
- 本地自定义函数  
- 记忆模块支持多轮对话

### Agent 使用的 Tools 简介

1. 知识库工具：调用 DeepSeek API 返回相关内容  
2. API 工具：调用天气 API，查询指定城市天气  
3. 本地函数工具：排序数字列表，演示本地函数调用

## 3. 运行测试方法说明

### 环境准备

1. 安装依赖：pip install -r requirements.txt  
2. 设置环境变量：DEEPSEEK_API_KEY、OPENAI_API_KEY  
3. 编辑 config.yaml，填写天气 API Key  

### 启动 Agent

```bash
python run_agent.py
```

### 测试交互

输入问题或命令，Agent 会智能调用相关工具回答。

## 4. 聊天记录示例

用户：请告诉我今天北京的天气。  
Agent：北京现在的天气是多云，气温22℃。

用户：帮我把列表[9, 1, 5, 3]排序。  
Agent：排序后的列表是：[1, 3, 5, 9]

用户：什么是机器学习？  
Agent：根据知识库查询到以下内容：  
- 机器学习是一门研究计算机如何通过数据进行自我改进的科学。

## 5. 合作与反思

### 成员 A

- 负责 Agent 框架和 API 集成  
- 学会了 LangChain 及多工具协作设计  
- 遇到多工具上下文切换调试问题

### 成员 B

- 负责知识库工具和本地函数开发  
- 熟悉了 DeepSeek API 调用和函数设计  
- 优化知识检索匹配度花费较多时间

欢迎反馈与交流！
